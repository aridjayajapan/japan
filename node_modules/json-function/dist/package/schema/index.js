"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeCheck=require("../../utils/type-check"),_callback=require("./tool/callback"),_callback2=_interopRequireDefault(_callback),_getSchemaValue=require("./tool/get-schema-value"),_getSchemaValue2=_interopRequireDefault(_getSchemaValue),_utils=require("../../utils");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var schema=function(a,b){if(void 0===b&&(b={}),!(0,_typeCheck.isArrayOfObject)(a)&&!(0,_typeCheck.isObject)(a))return null;var c;if((0,_typeCheck.isObject)(b))c=b;else if((0,_typeCheck.isFunction)(b))c=b(_callback2.default);else return a;if((0,_typeCheck.isArrayOfObject)(a))return a.map(function(a){var b=(0,_utils.cloneDeep)(c);return(0,_getSchemaValue2.default)(b,a)});if((0,_typeCheck.isObject)(a)){var d=(0,_utils.cloneDeep)(c);return(0,_getSchemaValue2.default)(d,a)}};exports.default=schema;